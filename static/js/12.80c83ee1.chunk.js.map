{"version":3,"sources":["assets/img/create-account-office.jpeg","assets/img/create-account-office-dark.jpeg","pages/Authen/CreateAccount.js"],"names":["module","exports","count","checkNull","ref","current","value","resetField","setError","className","CreateAccount","addToast","useToast","usernameRef","useRef","emailRef","passwordRef","confirmPasswordRef","fullnameRef","dobRef","phoneRef","React","createElement","aria-hidden","src","ImageLight","alt","ImageDark","Label","Input","type","placeholder","onClick","async","userRegister","UserName","Email","Password","PhoneNumber","FullName","DateOfBirth","response","fetchWithAuth","method","body","data","code","Cookie","set","token","expires","window","location","href","errorCode","message","err","console","log","Link","to"],"mappings":"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","file":"static/js/12.80c83ee1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/create-account-office.41b2c6a1.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/create-account-office-dark.d34c7b50.jpeg\";","import React, { useRef } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport ImageLight from \"../../assets/img/create-account-office.jpeg\";\r\nimport ImageDark from \"../../assets/img/create-account-office-dark.jpeg\";\r\nimport { Input, Label, Button } from \"@windmill/react-ui\";\r\nimport { useToast } from \"../../context/ToastContext\";\r\nimport fetchWithAuth from \"../../utils/callApi\";\r\nimport Cookie from \"js-cookie\";\r\nvar count;\r\nconst checkNull = (ref) => {\r\n  if (ref.current.value != null && ref.current.value != \"\") {\r\n    resetField(ref);\r\n  } else {\r\n    count++;\r\n    setError(ref);\r\n  }\r\n};\r\nconst resetField = (ref) => {\r\n  ref.current.className =\r\n    \"block w-full text-sm focus:outline-none dark:text-gray-300 form-input leading-5 focus:border-purple-400 dark:border-gray-600 focus:shadow-outline-purple dark:focus:border-gray-600 dark:focus:shadow-outline-gray dark:bg-gray-700 mt-1\";\r\n};\r\nconst setError = (ref) => {\r\n  ref.current.className =\r\n    \"block w-full text-sm focus:outline-none dark:text-gray-300 form-input leading-5 border-red-600 dark:bg-gray-700 focus:border-red-400 dark:focus:border-red-400 focus:shadow-outline-red dark:focus:shadow-outline-red mt-1\";\r\n};\r\nconst CreateAccount = () => {\r\n  const { addToast } = useToast();\r\n  const usernameRef = useRef();\r\n  const emailRef = useRef();\r\n  const passwordRef = useRef();\r\n  const confirmPasswordRef = useRef();\r\n  const fullnameRef = useRef();\r\n  const dobRef = useRef();\r\n  const phoneRef = useRef();\r\n  const RegisterClick = async () => {\r\n    count = 0;\r\n    checkNull(usernameRef);\r\n    checkNull(emailRef);\r\n    checkNull(passwordRef);\r\n    checkNull(confirmPasswordRef);\r\n    checkNull(fullnameRef);\r\n    checkNull(dobRef);\r\n    checkNull(phoneRef);\r\n    if (count > 0) return;\r\n    const userRegister = {\r\n      UserName: usernameRef.current.value,\r\n      Email: emailRef.current.value,\r\n      Password: passwordRef.current.value,\r\n      PhoneNumber: phoneRef.current.value,\r\n      FullName: fullnameRef.current.value,\r\n      DateOfBirth: dobRef.current.value,\r\n    };\r\n    if (passwordRef.current.value != confirmPasswordRef.current.value) {\r\n      addToast(\r\n        \"danger\",\r\n        \"Password và Confirm Password không khớp nhau!\",\r\n        10000\r\n      );\r\n      return;\r\n    }\r\n    try {\r\n      const response = await fetchWithAuth(\"Authentication/Register\", {\r\n        method: \"POST\",\r\n        body: userRegister,\r\n      });\r\n      const data = response.data;\r\n      if (response.code == \"200\") {\r\n        Cookie.set(\"token\", data.token, { expires: 1 });\r\n        window.location.href = \"/confirmEmail\";\r\n      } else if (response.code) {\r\n        addToast(\r\n          \"danger\",\r\n          response.code + \": \" + data.errorCode + \"-\" + data.message,\r\n          10000\r\n        );\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"flex items-center min-h-screen p-6 bg-gray-50 dark:bg-gray-900\">\r\n      <div className=\"flex-1 h-full max-w-4xl mx-auto overflow-hidden bg-white rounded-lg shadow-xl dark:bg-gray-800\">\r\n        <div className=\"flex flex-col overflow-y-auto md:flex-row\">\r\n          <div className=\"h-32 md:h-auto md:w-1/2\">\r\n            <img\r\n              aria-hidden=\"true\"\r\n              className=\"object-cover w-full h-full dark:hidden\"\r\n              src={ImageLight}\r\n              alt=\"Office\"\r\n            />\r\n            <img\r\n              aria-hidden=\"true\"\r\n              className=\"hidden object-cover w-full h-full dark:block\"\r\n              src={ImageDark}\r\n              alt=\"Office\"\r\n            />\r\n          </div>\r\n          <main className=\"flex items-center justify-center p-6 sm:p-12 md:w-1/2\">\r\n            <div className=\"w-full\">\r\n              <h1 className=\"mb-4 text-xl font-semibold text-gray-700 dark:text-gray-200\">\r\n                Create account\r\n              </h1>\r\n              <Label>\r\n                <span>Username</span>\r\n                <Input\r\n                  className=\"mt-1\"\r\n                  type=\"username\"\r\n                  placeholder=\"johndoe\"\r\n                  ref={usernameRef}\r\n                />\r\n              </Label>\r\n              <Label className=\"mt-4\">\r\n                <span>Email</span>\r\n                <Input\r\n                  className=\"mt-1\"\r\n                  type=\"email\"\r\n                  placeholder=\"john@doe.com\"\r\n                  ref={emailRef}\r\n                />\r\n              </Label>\r\n              <Label className=\"mt-4\">\r\n                <span>Password</span>\r\n                <Input\r\n                  className=\"mt-1\"\r\n                  placeholder=\"***************\"\r\n                  type=\"password\"\r\n                  ref={passwordRef}\r\n                />\r\n              </Label>\r\n              <Label className=\"mt-4\">\r\n                <span>Confirm password</span>\r\n                <Input\r\n                  className=\"mt-1\"\r\n                  placeholder=\"***************\"\r\n                  type=\"password\"\r\n                  ref={confirmPasswordRef}\r\n                />\r\n              </Label>\r\n              <Label className=\"mt-4\">\r\n                <span>Fullname</span>\r\n                <Input\r\n                  className=\"mt-1\"\r\n                  placeholder=\"Nguyễn Văn A\"\r\n                  type=\"fullname\"\r\n                  ref={fullnameRef}\r\n                />\r\n              </Label>\r\n              <Label className=\"mt-4\">\r\n                <span>Date of Birth</span>\r\n                <Input\r\n                  className=\"mt-1\"\r\n                  placeholder=\"Nguyễn Văn A\"\r\n                  type=\"date\"\r\n                  ref={dobRef}\r\n                />\r\n              </Label>\r\n              <Label className=\"mt-4\">\r\n                <span>Phone Number</span>\r\n                <Input\r\n                  className=\"mt-1\"\r\n                  placeholder=\"0987654321\"\r\n                  type=\"text\"\r\n                  ref={phoneRef}\r\n                />\r\n              </Label>\r\n              <button\r\n                className=\"transition-colors duration-150 font-medium focus:outline-none  \r\n                py-2 rounded-lg text-sm text-white bg-purple-600 border-0 active:bg-purple-600 \r\n                hover:bg-purple-700 focus:shadow-outline-purple w-full mt-4\"\r\n                onClick={RegisterClick}\r\n              >\r\n                Register\r\n              </button>\r\n\r\n              <hr className=\"my-8\" />\r\n\r\n              <p className=\"mt-4\">\r\n                <Link\r\n                  className=\"text-sm font-medium text-purple-600 dark:text-purple-400 hover:underline\"\r\n                  to=\"/login\"\r\n                >\r\n                  Already have an account? Login\r\n                </Link>\r\n              </p>\r\n            </div>\r\n          </main>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateAccount;\r\n"],"sourceRoot":""}