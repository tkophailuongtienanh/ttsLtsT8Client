{"version":3,"sources":["components/Projects/ProjectItem.js","assets/img/default-img.jpg","pages/Project/ProjectList.js"],"names":["ProjectItem","_ref","id","name","lead","status","coverUrl","deleteCallBack","async","editCallBack","navigate","useNavigate","React","createElement","className","style","backgroundImage","width","paddingBottom","Progress","percent","percentPosition","align","type","size","Button","onClick","forward1","shape","danger","module","exports","RangePicker","DatePicker","BASE_URL","process","REACT_APP_API_BASE_URL","dayjs","extend","customParseFormat","ProjectList","timeoutId","addToast","useToast","isModalOpen","setIsModalOpen","useState","projectName","setProjectName","request","setRequest","endDate","setEndDate","startDate","setStartDate","price","setPrice","customer","setCustomer","options","setOptions","file","setFile","url","setUrl","ImageDefault","data","setData","currentPage","setCurrentPage","total","setTotal","loadProjectList","pageIndex","arguments","length","undefined","pageSize","response","getWithAuth","console","log","code","list","errorCode","message","error","searchUserList","str","forEach","element","value","label","fullName","address","props","onRemove","beforeUpload","URL","createObjectURL","clearModal","useCallback","fetchWithAuth","body","useEffect","Fragment","PageTitle","map","item","key","employee","parseInt","projectStatus","driveFileId","Pagination","current","onChange","curpage","Modal","title","open","onOk","formData","FormData","append","fetchForm","onCancel","closeModal","Upload","Object","assign","maxCount","info","fileList","success","icon","UploadOutlined","Label","Input","e","target","placeholder","TextArea","autoSize","minRows","maxRows","Select","showSearch","labelInValue","filterOption","onSearch","clearTimeout","setTimeout","notFoundContent","date","dateString","format","defaultValue","minDate","InputNumber","formatter","replace","parser"],"mappings":"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","file":"static/js/10.d900d4b8.chunk.js","sourcesContent":["import {\n  DeleteOutlined,\n  EditOutlined,\n  EllipsisOutlined,\n  SettingOutlined,\n} from \"@ant-design/icons\";\nimport { Button, Card, CardBody, Progress } from \"antd\";\nimport Title from \"antd/es/skeleton/Title\";\nimport React from \"react\";\nimport { Navigate, useNavigate } from \"react-router-dom\";\nconst ProjectItem = ({\n  id,\n  name,\n  lead,\n  status,\n  coverUrl,\n  deleteCallBack = async (id) => {},\n  editCallBack = () => {},\n}) => {\n  const navigate = useNavigate();\n  const forward1 = () => {\n    navigate(\"/app/projects/\" + id);\n    // window.location.href = \"/app\";\n  };\n  return (\n    <div className=\"flex flex-col min-w-0 rounded-lg shadow-xs overflow-hidden bg-white dark:bg-gray-800\">\n      <div  className=\"bg-no-repeat bg-cover bg-center\"\n        style={{\n          backgroundImage: \"url(\" + coverUrl + \")\",\n          width: \"100%\",\n          paddingBottom: \"100%\",\n        }}\n      ></div>\n      <div className=\"flex flex-col h-full gap-2 justify-between text-gray-100 text-sm p-3\">\n        <div>\n          <div className=\"font-bold text-lg\">{name}</div>\n          <div className=\"\">\n            Leader: <span className=\"font-bold\">{lead}</span>\n          </div>\n          <div className=\"mb-3\">\n            Trạng thái:{\" \"}\n            <span>\n              {status <= 25\n                ? \"Chờ duyệt\"\n                : status <= 50\n                ? \"Đang in\"\n                : status <= 75\n                ? \"Đang giao hàng\"\n                : \"Hoàn thành\"}\n            </span>\n          </div>\n        </div>\n        <div>\n          <div className=\"flex items-center mb-2\">\n            <Progress\n              percent={status}\n              percentPosition={{ align: \"center\", type: \"inner\" }}\n              size={[\"100%\", 20]}\n            />\n          </div>\n\n          <div className=\"flex justify-center gap-2\">\n            <Button\n              onClick={forward1}\n              type=\"primary\"\n              shape=\"circle\"\n              size=\"large\"\n            >\n              <i className=\"fa-solid fa-eye\"></i>\n            </Button>\n            {status == 0 && (\n              <Button\n                onClick={() => {\n                  deleteCallBack(id);\n                }}\n                type=\"primary\"\n                danger\n                shape=\"circle\"\n                size=\"large\"\n              >\n                <i className=\"fa-solid fa-trash-can\"></i>\n              </Button>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default ProjectItem;\n","module.exports = \"data:image/jpeg;base64,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\"","import React, {\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport PageTitle from \"../../components/Typography/PageTitle\";\nimport ProjectItem from \"../../components/Projects/ProjectItem\";\nimport dayjs from \"dayjs\";\nimport customParseFormat from \"dayjs/plugin/customParseFormat\";\nimport {\n  Button,\n  DatePicker,\n  Form,\n  Input,\n  InputNumber,\n  message,\n  Modal,\n  Pagination,\n  Select,\n  Spin,\n  Upload,\n} from \"antd\";\nimport { Label } from \"@windmill/react-ui\";\n\nimport ImageDefault from \"../../assets/img/default-img.jpg\";\nimport TextArea from \"antd/es/input/TextArea\";\nimport fetchWithAuth, { fetchForm, getWithAuth } from \"../../utils/callApi\";\nimport { useToast } from \"../../context/ToastContext\";\nimport { UploadOutlined } from \"@ant-design/icons\";\n\nconst { RangePicker } = DatePicker;\n\nconst PAGESIZE = 6;\nconst BASE_URL = process.env.REACT_APP_API_BASE_URL;\ndayjs.extend(customParseFormat);\nconst ProjectList = () => {\n  const dateFormat = \"YYYY-MM-DD\";\n  let timeoutId;\n  const { addToast } = useToast();\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [projectName, setProjectName] = useState(\"\");\n  const [request, setRequest] = useState(\"\");\n  const [endDate, setEndDate] = useState(dayjs(dayjs(), dateFormat));\n  const [startDate, setStartDate] = useState(dayjs(dayjs(), dateFormat));\n  const [price, setPrice] = useState(0);\n  const [customer, setCustomer] = useState(null);\n  const [options, setOptions] = useState([]);\n  const [file, setFile] = useState(null);\n  const [url, setUrl] = useState(ImageDefault);\n  const [data, setData] = useState([]);\n  const [currentPage, setCurrentPage] = useState(0);\n  const [total, setTotal] = useState(0);\n\n  const loadProjectList = async ( pageIndex = 0, pageSize = PAGESIZE) => {\n    try {\n      const response = await getWithAuth(\n        \"Project/GetProjectList\",\n        \"pageIndex=\" + pageIndex + \"&pageSize=\" + pageSize\n      );\n      const data = response.data;\n      console.log(data);\n      if (response.code == \"200\") {\n        setData(data.list);\n        setTotal(data.total);\n      } else if (response.code) {\n        addToast(\n          \"danger\",\n          response.code + \": \" + data.errorCode + \"-\" + data.message,\n          10000\n        );\n      }\n    } catch (error) {}\n  };\n  const onOkBtnClick = async () => {\n    try {\n      const formData = new FormData();\n      formData.append(\"File\", file);\n      formData.append(\"ProjectName\", projectName);\n      formData.append(\"Request\", request);\n      formData.append(\"CustomerId\", customer.value);\n      formData.append(\"StartDate\", startDate);\n      formData.append(\"EndDate\", endDate);\n      formData.append(\"Price\", price);\n      setIsModalOpen(false);\n      addToast(\"alert\", \"Đang thêm dự án\", 5000);\n      const response = await fetchForm(\"Project/CreateProject\", {\n        body: formData,\n      });\n      const data = response.data;\n      console.log(data);\n      if (response.code == \"200\") {\n        addToast(\"success\", \"Thêm dự án thành công\", 5000);\n        loadProjectList();\n        clearModal();\n      } else if (response.code) {\n        addToast(\n          \"danger\",\n          response.code + \": \" + data.errorCode + \"-\" + data.message,\n          10000\n        );\n      }\n    } catch (error) {}\n  };\n  const closeModal = () => {\n    setIsModalOpen(false);\n  };\n  const searchUserList = async (str) => {\n    try {\n      const response = await getWithAuth(\n        \"Customer/getCustomerOptions\",\n        str ? \"name=\" + str : \"\"\n      );\n      const data = response.data;\n\n      if (response.code == \"200\") {\n        data.forEach((element) => {\n          element.value = element.id;\n          element.label = element.fullName + \"-\" + element.address;\n        });\n        console.log(data);\n        setOptions(data);\n      } else if (response.code) {\n        addToast(\n          \"danger\",\n          response.code + \": \" + data.errorCode + \"-\" + data.message,\n          10000\n        );\n      }\n    } catch (error) {}\n  };\n  const callLog = (value) => {\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(() => {\n      searchUserList(value);\n    }, 1000);\n  };\n  const onFileUpload = (info) => {\n    if (info.file.status !== \"uploading\") {\n      console.log(info.file, info.fileList);\n    }\n    if (info.file.status === \"done\") {\n      message.success(`${info.file.name} file uploaded successfully`);\n    } else if (info.file.status === \"error\") {\n      message.error(`${info.file.name} file upload failed.`);\n    }\n  };\n  const props = {\n    onRemove: (file) => {\n      setFile(null);\n      setUrl(ImageDefault);\n    },\n    beforeUpload: (file) => {\n      setUrl(URL.createObjectURL(file));\n      console.log(\"before: \", file);\n      setFile(file);\n      return false;\n    },\n    file,\n  };\n  const clearModal = () => {\n    setProjectName(\"\");\n    setRequest(\"\");\n    setCustomer(null);\n    setStartDate(dayjs(dayjs(), dateFormat));\n    setEndDate(dayjs(dayjs(), dateFormat));\n    setFile(null);\n    setUrl(ImageDefault);\n  };\n  const deleteCallBack = useCallback(async (id) => {\n    try {\n      const response = await fetchWithAuth(\"Project/DeleteProject\", {\n        body: id,\n      });\n      const data = response.data;\n      if (response.code == \"200\") {\n        loadProjectList();\n        // setData(data.list);\n      } else if (response.code) {\n        addToast(\n          \"danger\",\n          response.code + \": \" + data.errorCode + \"-\" + data.message,\n          10000\n        );\n      }\n    } catch (error) {}\n  });\n  const onChange = (curpage, pageSize) => {\n    console.log(curpage);\n    \n    setCurrentPage(curpage);\n    loadProjectList(curpage - 1, pageSize);\n  };\n  useEffect(() => {\n    loadProjectList();\n    searchUserList();\n  }, []);\n\n  return (\n    <>\n      <div className=\" flex justify-between\">\n        <PageTitle>Danh sách dự án</PageTitle>\n        <button\n          onClick={() => setIsModalOpen(true)}\n          className=\"bg-purple-700 h-12 self-center rounded-lg px-4 text-white\"\n        >\n          <i className=\"fa-solid fa-plus mr-2\"></i>Thêm mới\n        </button>\n      </div>\n      <div className=\"grid gap-6 mb-8 md:grid-cols-2 xl:grid-cols-4 justify-items-stretch\">\n        {data.map((item) => (\n          <ProjectItem\n            key={item.id}\n            id={item.id}\n            name={item.projectName}\n            lead={item.employee.fullName}\n            status={parseInt(item.projectStatus)}\n            coverUrl={BASE_URL + \"Image/GetImage/\" + item.file.driveFileId}\n            deleteCallBack={deleteCallBack}\n          ></ProjectItem>\n        ))}\n      </div><Pagination\n          className=\"mt-2\"\n          align=\"end\"\n          current={currentPage}\n          onChange={onChange}\n          total={total}\n          pageSize={PAGESIZE}\n        />\n      <Modal\n        title=\"Thêm mới dự án\"\n        open={isModalOpen}\n        onOk={onOkBtnClick}\n        onCancel={closeModal}\n      >\n        <div className=\"flex gap-2\">\n          <div\n            style={{\n              width: \"40%\",\n              paddingBottom: \"40%\",\n              backgroundImage: `url(${url})`,\n            }}\n            className=\"rounded bg-cover bg-center\"\n          ></div>\n          <Upload\n            className=\"max-w-55/100 overflow-hidden\"\n            {...props}\n            maxCount={1}\n            onChange={onFileUpload}\n          >\n            <Button type=\"primary\" icon={<UploadOutlined />}>\n              Tải ảnh lên...\n            </Button>\n          </Upload>\n        </div>\n        <Label className=\"mt-4\">\n          <span>Tên dự án</span>\n          <Input\n            value={projectName}\n            onChange={(e) => setProjectName(e.target.value)}\n            className=\"mt-1\"\n            type=\"username\"\n            placeholder=\"Dự án A\"\n          />\n        </Label>\n        <Label className=\"mt-4\">\n          <span>Yêu cầu từ khách hàng</span>\n          <TextArea\n            className=\" mt-1\"\n            value={request}\n            onChange={(e) => setRequest(e.target.value)}\n            placeholder=\"Yêu cầu từ khách hàng\"\n            autoSize={{\n              minRows: 2,\n              maxRows: 6,\n            }}\n          />\n        </Label>\n        <Label className=\"mt-4\">\n          <span className=\"\">Khách hàng</span>\n          <Select\n            value={customer}\n            onChange={(value) => setCustomer(value)}\n            //   className=\"block w-full text-sm focus:outline-none dark:text-gray-300 form-input leading-5 focus:border-purple-400 dark:border-gray-600 focus:shadow-outline-purple dark:focus:border-gray-600 dark:focus:shadow-outline-gray dark:bg-gray-700 mt-1\"\n            className=\"w-full mt-1\"\n            showSearch\n            labelInValue\n            filterOption={false}\n            onSearch={callLog}\n            notFoundContent={false ? <Spin size=\"small\" /> : null}\n            options={options}\n          />\n        </Label>\n        <Label className=\"mt-4\">\n          <span>Thời gian làm dự kiến</span>\n          <RangePicker\n            placeholder={[\"Ngày bắt đầu\", \"Ngày kết thúc\"]}\n            className=\"w-full mt-1\"\n            // value={startDate}\n            onChange={(date, dateString) => {\n              console.log(dateString);\n              setStartDate(dateString[0]);\n              setEndDate(dateString[1]);\n            }}\n            format={dateFormat}\n            defaultValue={[startDate, endDate]}\n            minDate={dayjs()}\n          />\n        </Label>\n        <Label className=\"mt-4\">\n          <span>Giá</span>\n          <InputNumber\n            value={price}\n            onChange={(e) => setPrice(e)}\n            className=\"mt-1 w-full\"\n            type=\"text\"\n            formatter={(value) =>\n              `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n            }\n            parser={(value) => value?.replace(/\\đ\\s?|(,*)/g, \"\")}\n            placeholder=\"Đơn giá\"\n          />\n        </Label>\n        {/* <Label className=\"mt-4\">\n          <span>Ngày kết thúc</span>\n          <DatePicker\n            className=\"w-full mt-1\"\n            // value={startDate}\n            onChange={(date, dateString) => {\n              setEndDate(dateString);\n            }}\n            format={dateFormat}\n            defaultValue={endDate}\n            minDate={dayjs()}\n          />\n        </Label> */}\n      </Modal>\n    </>\n  );\n};\nexport default ProjectList;\n"],"sourceRoot":""}