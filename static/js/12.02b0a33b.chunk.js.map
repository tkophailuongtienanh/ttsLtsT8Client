{"version":3,"sources":["assets/img/create-account-office.jpeg","assets/img/create-account-office-dark.jpeg","pages/Authen/CreateAccount.js"],"names":["module","exports","count","checkNull","ref","current","value","resetField","setError","className","CreateAccount","addToast","useToast","usernameRef","useRef","emailRef","passwordRef","confirmPasswordRef","fullnameRef","dobRef","phoneRef","React","createElement","aria-hidden","src","ImageLight","alt","ImageDark","Label","Input","type","placeholder","onClick","async","userRegister","UserName","Email","Password","PhoneNumber","FullName","DateOfBirth","response","fetchWithAuth","method","body","data","code","Cookie","set","token","expires","window","location","href","errorCode","message","err","console","log","Link","to"],"mappings":"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","file":"static/js/12.02b0a33b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/create-account-office.41b2c6a1.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/create-account-office-dark.d34c7b50.jpeg\";","import React, { useRef } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport ImageLight from \"../../assets/img/create-account-office.jpeg\";\nimport ImageDark from \"../../assets/img/create-account-office-dark.jpeg\";\nimport { Input, Label, Button } from \"@windmill/react-ui\";\nimport { useToast } from \"../../context/ToastContext\";\nimport fetchWithAuth from \"../../utils/callApi\";\nimport Cookie from \"js-cookie\";\nvar count;\nconst checkNull = (ref) => {\n  if (ref.current.value != null && ref.current.value != \"\") {\n    resetField(ref);\n  } else {\n    count++;\n    setError(ref);\n  }\n};\nconst resetField = (ref) => {\n  ref.current.className =\n    \"block w-full text-sm focus:outline-none dark:text-gray-300 form-input leading-5 focus:border-purple-400 dark:border-gray-600 focus:shadow-outline-purple dark:focus:border-gray-600 dark:focus:shadow-outline-gray dark:bg-gray-700 mt-1\";\n};\nconst setError = (ref) => {\n  ref.current.className =\n    \"block w-full text-sm focus:outline-none dark:text-gray-300 form-input leading-5 border-red-600 dark:bg-gray-700 focus:border-red-400 dark:focus:border-red-400 focus:shadow-outline-red dark:focus:shadow-outline-red mt-1\";\n};\nconst CreateAccount = () => {\n  const { addToast } = useToast();\n  const usernameRef = useRef();\n  const emailRef = useRef();\n  const passwordRef = useRef();\n  const confirmPasswordRef = useRef();\n  const fullnameRef = useRef();\n  const dobRef = useRef();\n  const phoneRef = useRef();\n  const RegisterClick = async () => {\n    count = 0;\n    checkNull(usernameRef);\n    checkNull(emailRef);\n    checkNull(passwordRef);\n    checkNull(confirmPasswordRef);\n    checkNull(fullnameRef);\n    checkNull(dobRef);\n    checkNull(phoneRef);\n    if (count > 0) return;\n    const userRegister = {\n      UserName: usernameRef.current.value,\n      Email: emailRef.current.value,\n      Password: passwordRef.current.value,\n      PhoneNumber: phoneRef.current.value,\n      FullName: fullnameRef.current.value,\n      DateOfBirth: dobRef.current.value,\n    };\n    if (passwordRef.current.value != confirmPasswordRef.current.value) {\n      addToast(\n        \"danger\",\n        \"Password và Confirm Password không khớp nhau!\",\n        10000\n      );\n      return;\n    }\n    try {\n      const response = await fetchWithAuth(\"Authentication/Register\", {\n        method: \"POST\",\n        body: userRegister,\n      });\n      const data = response.data;\n      if (response.code == \"200\") {\n        Cookie.set(\"token\", data.token, { expires: 1 });\n        window.location.href = \"/confirmEmail\";\n      } else if (response.code) {\n        addToast(\n          \"danger\",\n          response.code + \": \" + data.errorCode + \"-\" + data.message,\n          10000\n        );\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  return (\n    <div className=\"flex items-center min-h-screen p-6 bg-gray-50 dark:bg-gray-900\">\n      <div className=\"flex-1 h-full max-w-4xl mx-auto overflow-hidden bg-white rounded-lg shadow-xl dark:bg-gray-800\">\n        <div className=\"flex flex-col overflow-y-auto md:flex-row\">\n          <div className=\"h-32 md:h-auto md:w-1/2\">\n            <img\n              aria-hidden=\"true\"\n              className=\"object-cover w-full h-full dark:hidden\"\n              src={ImageLight}\n              alt=\"Office\"\n            />\n            <img\n              aria-hidden=\"true\"\n              className=\"hidden object-cover w-full h-full dark:block\"\n              src={ImageDark}\n              alt=\"Office\"\n            />\n          </div>\n          <main className=\"flex items-center justify-center p-6 sm:p-12 md:w-1/2\">\n            <div className=\"w-full\">\n              <h1 className=\"mb-4 text-xl font-semibold text-gray-700 dark:text-gray-200\">\n                Create account\n              </h1>\n              <Label>\n                <span>Username</span>\n                <Input\n                  className=\"mt-1\"\n                  type=\"username\"\n                  placeholder=\"johndoe\"\n                  ref={usernameRef}\n                />\n              </Label>\n              <Label className=\"mt-4\">\n                <span>Email</span>\n                <Input\n                  className=\"mt-1\"\n                  type=\"email\"\n                  placeholder=\"john@doe.com\"\n                  ref={emailRef}\n                />\n              </Label>\n              <Label className=\"mt-4\">\n                <span>Password</span>\n                <Input\n                  className=\"mt-1\"\n                  placeholder=\"***************\"\n                  type=\"password\"\n                  ref={passwordRef}\n                />\n              </Label>\n              <Label className=\"mt-4\">\n                <span>Confirm password</span>\n                <Input\n                  className=\"mt-1\"\n                  placeholder=\"***************\"\n                  type=\"password\"\n                  ref={confirmPasswordRef}\n                />\n              </Label>\n              <Label className=\"mt-4\">\n                <span>Fullname</span>\n                <Input\n                  className=\"mt-1\"\n                  placeholder=\"Nguyễn Văn A\"\n                  type=\"fullname\"\n                  ref={fullnameRef}\n                />\n              </Label>\n              <Label className=\"mt-4\">\n                <span>Date of Birth</span>\n                <Input\n                  className=\"mt-1\"\n                  placeholder=\"Nguyễn Văn A\"\n                  type=\"date\"\n                  ref={dobRef}\n                />\n              </Label>\n              <Label className=\"mt-4\">\n                <span>Phone Number</span>\n                <Input\n                  className=\"mt-1\"\n                  placeholder=\"0987654321\"\n                  type=\"text\"\n                  ref={phoneRef}\n                />\n              </Label>\n              <button\n                className=\"transition-colors duration-150 font-medium focus:outline-none  \n                py-2 rounded-lg text-sm text-white bg-purple-600 border-0 active:bg-purple-600 \n                hover:bg-purple-700 focus:shadow-outline-purple w-full mt-4\"\n                onClick={RegisterClick}\n              >\n                Register\n              </button>\n\n              <hr className=\"my-8\" />\n\n              <p className=\"mt-4\">\n                <Link\n                  className=\"text-sm font-medium text-purple-600 dark:text-purple-400 hover:underline\"\n                  to=\"/login\"\n                >\n                  Already have an account? Login\n                </Link>\n              </p>\n            </div>\n          </main>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CreateAccount;\n"],"sourceRoot":""}