{"version":3,"sources":["components/Projects/ProjectItem.js","assets/img/default-img.jpg","pages/Project/ProjectList.js"],"names":["ProjectItem","_ref","id","name","lead","status","coverUrl","deleteCallBack","async","editCallBack","navigate","useNavigate","React","createElement","className","style","backgroundImage","width","paddingBottom","Progress","percent","percentPosition","align","type","size","Button","onClick","forward1","shape","danger","module","exports","RangePicker","DatePicker","dayjs","extend","customParseFormat","ProjectList","timeoutId","addToast","useToast","isModalOpen","setIsModalOpen","useState","projectName","setProjectName","request","setRequest","endDate","setEndDate","startDate","setStartDate","price","setPrice","customer","setCustomer","options","setOptions","file","setFile","url","setUrl","ImageDefault","data","setData","currentPage","setCurrentPage","total","setTotal","loadProjectList","pageIndex","arguments","length","undefined","pageSize","response","getWithAuth","console","log","code","list","errorCode","message","error","searchUserList","str","forEach","element","value","label","fullName","address","props","onRemove","beforeUpload","URL","createObjectURL","clearModal","useCallback","fetchWithAuth","body","useEffect","Fragment","PageTitle","map","item","key","employee","parseInt","projectStatus","BASE_URL","driveFileId","Pagination","current","onChange","curpage","Modal","title","open","onOk","formData","FormData","append","fetchForm","onCancel","closeModal","Upload","Object","assign","maxCount","info","fileList","success","icon","UploadOutlined","Label","Input","e","target","placeholder","TextArea","autoSize","minRows","maxRows","Select","showSearch","labelInValue","filterOption","onSearch","clearTimeout","setTimeout","notFoundContent","date","dateString","format","defaultValue","minDate","InputNumber","formatter","replace","parser"],"mappings":"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","file":"static/js/10.b3558395.chunk.js","sourcesContent":["import {\r\n  DeleteOutlined,\r\n  EditOutlined,\r\n  EllipsisOutlined,\r\n  SettingOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { Button, Card, CardBody, Progress } from \"antd\";\r\nimport Title from \"antd/es/skeleton/Title\";\r\nimport React from \"react\";\r\nimport { Navigate, useNavigate } from \"react-router-dom\";\r\nconst ProjectItem = ({\r\n  id,\r\n  name,\r\n  lead,\r\n  status,\r\n  coverUrl,\r\n  deleteCallBack = async (id) => {},\r\n  editCallBack = () => {},\r\n}) => {\r\n  const navigate = useNavigate();\r\n  const forward1 = () => {\r\n    navigate(\"/app/projects/\" + id);\r\n    // window.location.href = \"/app\";\r\n  };\r\n  return (\r\n    <div className=\"flex flex-col min-w-0 rounded-lg shadow-xs overflow-hidden bg-white dark:bg-gray-800\">\r\n      <div  className=\"bg-no-repeat bg-cover bg-center\"\r\n        style={{\r\n          backgroundImage: \"url(\" + coverUrl + \")\",\r\n          width: \"100%\",\r\n          paddingBottom: \"100%\",\r\n        }}\r\n      ></div>\r\n      <div className=\"flex flex-col h-full gap-2 justify-between text-gray-100 text-sm p-3\">\r\n        <div>\r\n          <div className=\"font-bold text-lg\">{name}</div>\r\n          <div className=\"\">\r\n            Leader: <span className=\"font-bold\">{lead}</span>\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            Trạng thái:{\" \"}\r\n            <span>\r\n              {status <= 25\r\n                ? \"Chờ duyệt\"\r\n                : status <= 50\r\n                ? \"Đang in\"\r\n                : status <= 75\r\n                ? \"Đang giao hàng\"\r\n                : \"Hoàn thành\"}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <div className=\"flex items-center mb-2\">\r\n            <Progress\r\n              percent={status}\r\n              percentPosition={{ align: \"center\", type: \"inner\" }}\r\n              size={[\"100%\", 20]}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex justify-center gap-2\">\r\n            <Button\r\n              onClick={forward1}\r\n              type=\"primary\"\r\n              shape=\"circle\"\r\n              size=\"large\"\r\n            >\r\n              <i className=\"fa-solid fa-eye\"></i>\r\n            </Button>\r\n            {status == 0 && (\r\n              <Button\r\n                onClick={() => {\r\n                  deleteCallBack(id);\r\n                }}\r\n                type=\"primary\"\r\n                danger\r\n                shape=\"circle\"\r\n                size=\"large\"\r\n              >\r\n                <i className=\"fa-solid fa-trash-can\"></i>\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default ProjectItem;\r\n","module.exports = \"data:image/jpeg;base64,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\"","import React, {\r\n  useCallback,\r\n  useEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport PageTitle from \"../../components/Typography/PageTitle\";\r\nimport ProjectItem from \"../../components/Projects/ProjectItem\";\r\nimport dayjs from \"dayjs\";\r\nimport customParseFormat from \"dayjs/plugin/customParseFormat\";\r\nimport {\r\n  Button,\r\n  DatePicker,\r\n  Form,\r\n  Input,\r\n  InputNumber,\r\n  message,\r\n  Modal,\r\n  Pagination,\r\n  Select,\r\n  Spin,\r\n  Upload,\r\n} from \"antd\";\r\nimport { Label } from \"@windmill/react-ui\";\r\n\r\nimport ImageDefault from \"../../assets/img/default-img.jpg\";\r\nimport TextArea from \"antd/es/input/TextArea\";\r\nimport fetchWithAuth, { fetchForm, getWithAuth } from \"../../utils/callApi\";\r\nimport { useToast } from \"../../context/ToastContext\";\r\nimport { UploadOutlined } from \"@ant-design/icons\";\r\n\r\nconst { RangePicker } = DatePicker;\r\n\r\nconst PAGESIZE = 6;\r\nconst BASE_URL = process.env.REACT_APP_API_BASE_URL;\r\ndayjs.extend(customParseFormat);\r\nconst ProjectList = () => {\r\n  const dateFormat = \"YYYY-MM-DD\";\r\n  let timeoutId;\r\n  const { addToast } = useToast();\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [projectName, setProjectName] = useState(\"\");\r\n  const [request, setRequest] = useState(\"\");\r\n  const [endDate, setEndDate] = useState(dayjs(dayjs(), dateFormat));\r\n  const [startDate, setStartDate] = useState(dayjs(dayjs(), dateFormat));\r\n  const [price, setPrice] = useState(0);\r\n  const [customer, setCustomer] = useState(null);\r\n  const [options, setOptions] = useState([]);\r\n  const [file, setFile] = useState(null);\r\n  const [url, setUrl] = useState(ImageDefault);\r\n  const [data, setData] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  const [total, setTotal] = useState(0);\r\n\r\n  const loadProjectList = async ( pageIndex = 0, pageSize = PAGESIZE) => {\r\n    try {\r\n      const response = await getWithAuth(\r\n        \"Project/GetProjectList\",\r\n        \"pageIndex=\" + pageIndex + \"&pageSize=\" + pageSize\r\n      );\r\n      const data = response.data;\r\n      console.log(data);\r\n      if (response.code == \"200\") {\r\n        setData(data.list);\r\n        setTotal(data.total);\r\n      } else if (response.code) {\r\n        addToast(\r\n          \"danger\",\r\n          response.code + \": \" + data.errorCode + \"-\" + data.message,\r\n          10000\r\n        );\r\n      }\r\n    } catch (error) {}\r\n  };\r\n  const onOkBtnClick = async () => {\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append(\"File\", file);\r\n      formData.append(\"ProjectName\", projectName);\r\n      formData.append(\"Request\", request);\r\n      formData.append(\"CustomerId\", customer.value);\r\n      formData.append(\"StartDate\", startDate);\r\n      formData.append(\"EndDate\", endDate);\r\n      formData.append(\"Price\", price);\r\n      setIsModalOpen(false);\r\n      addToast(\"alert\", \"Đang thêm dự án\", 5000);\r\n      const response = await fetchForm(\"Project/CreateProject\", {\r\n        body: formData,\r\n      });\r\n      const data = response.data;\r\n      console.log(data);\r\n      if (response.code == \"200\") {\r\n        addToast(\"success\", \"Thêm dự án thành công\", 5000);\r\n        loadProjectList();\r\n        clearModal();\r\n      } else if (response.code) {\r\n        addToast(\r\n          \"danger\",\r\n          response.code + \": \" + data.errorCode + \"-\" + data.message,\r\n          10000\r\n        );\r\n      }\r\n    } catch (error) {}\r\n  };\r\n  const closeModal = () => {\r\n    setIsModalOpen(false);\r\n  };\r\n  const searchUserList = async (str) => {\r\n    try {\r\n      const response = await getWithAuth(\r\n        \"Customer/getCustomerOptions\",\r\n        str ? \"name=\" + str : \"\"\r\n      );\r\n      const data = response.data;\r\n\r\n      if (response.code == \"200\") {\r\n        data.forEach((element) => {\r\n          element.value = element.id;\r\n          element.label = element.fullName + \"-\" + element.address;\r\n        });\r\n        console.log(data);\r\n        setOptions(data);\r\n      } else if (response.code) {\r\n        addToast(\r\n          \"danger\",\r\n          response.code + \": \" + data.errorCode + \"-\" + data.message,\r\n          10000\r\n        );\r\n      }\r\n    } catch (error) {}\r\n  };\r\n  const callLog = (value) => {\r\n    clearTimeout(timeoutId);\r\n    timeoutId = setTimeout(() => {\r\n      searchUserList(value);\r\n    }, 1000);\r\n  };\r\n  const onFileUpload = (info) => {\r\n    if (info.file.status !== \"uploading\") {\r\n      console.log(info.file, info.fileList);\r\n    }\r\n    if (info.file.status === \"done\") {\r\n      message.success(`${info.file.name} file uploaded successfully`);\r\n    } else if (info.file.status === \"error\") {\r\n      message.error(`${info.file.name} file upload failed.`);\r\n    }\r\n  };\r\n  const props = {\r\n    onRemove: (file) => {\r\n      setFile(null);\r\n      setUrl(ImageDefault);\r\n    },\r\n    beforeUpload: (file) => {\r\n      setUrl(URL.createObjectURL(file));\r\n      console.log(\"before: \", file);\r\n      setFile(file);\r\n      return false;\r\n    },\r\n    file,\r\n  };\r\n  const clearModal = () => {\r\n    setProjectName(\"\");\r\n    setRequest(\"\");\r\n    setCustomer(null);\r\n    setStartDate(dayjs(dayjs(), dateFormat));\r\n    setEndDate(dayjs(dayjs(), dateFormat));\r\n    setFile(null);\r\n    setUrl(ImageDefault);\r\n  };\r\n  const deleteCallBack = useCallback(async (id) => {\r\n    try {\r\n      const response = await fetchWithAuth(\"Project/DeleteProject\", {\r\n        body: id,\r\n      });\r\n      const data = response.data;\r\n      if (response.code == \"200\") {\r\n        loadProjectList();\r\n        // setData(data.list);\r\n      } else if (response.code) {\r\n        addToast(\r\n          \"danger\",\r\n          response.code + \": \" + data.errorCode + \"-\" + data.message,\r\n          10000\r\n        );\r\n      }\r\n    } catch (error) {}\r\n  });\r\n  const onChange = (curpage, pageSize) => {\r\n    console.log(curpage);\r\n    \r\n    setCurrentPage(curpage);\r\n    loadProjectList(curpage - 1, pageSize);\r\n  };\r\n  useEffect(() => {\r\n    loadProjectList();\r\n    searchUserList();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <div className=\" flex justify-between\">\r\n        <PageTitle>Danh sách dự án</PageTitle>\r\n        <button\r\n          onClick={() => setIsModalOpen(true)}\r\n          className=\"bg-purple-700 h-12 self-center rounded-lg px-4 text-white\"\r\n        >\r\n          <i className=\"fa-solid fa-plus mr-2\"></i>Thêm mới\r\n        </button>\r\n      </div>\r\n      <div className=\"grid gap-6 mb-8 md:grid-cols-2 xl:grid-cols-4 justify-items-stretch\">\r\n        {data.map((item) => (\r\n          <ProjectItem\r\n            key={item.id}\r\n            id={item.id}\r\n            name={item.projectName}\r\n            lead={item.employee.fullName}\r\n            status={parseInt(item.projectStatus)}\r\n            coverUrl={BASE_URL + \"Image/GetImage/\" + item.file.driveFileId}\r\n            deleteCallBack={deleteCallBack}\r\n          ></ProjectItem>\r\n        ))}\r\n      </div><Pagination\r\n          className=\"mt-2\"\r\n          align=\"end\"\r\n          current={currentPage}\r\n          onChange={onChange}\r\n          total={total}\r\n          pageSize={PAGESIZE}\r\n        />\r\n      <Modal\r\n        title=\"Thêm mới dự án\"\r\n        open={isModalOpen}\r\n        onOk={onOkBtnClick}\r\n        onCancel={closeModal}\r\n      >\r\n        <div className=\"flex gap-2\">\r\n          <div\r\n            style={{\r\n              width: \"40%\",\r\n              paddingBottom: \"40%\",\r\n              backgroundImage: `url(${url})`,\r\n            }}\r\n            className=\"rounded bg-cover bg-center\"\r\n          ></div>\r\n          <Upload\r\n            className=\"max-w-55/100 overflow-hidden\"\r\n            {...props}\r\n            maxCount={1}\r\n            onChange={onFileUpload}\r\n          >\r\n            <Button type=\"primary\" icon={<UploadOutlined />}>\r\n              Tải ảnh lên...\r\n            </Button>\r\n          </Upload>\r\n        </div>\r\n        <Label className=\"mt-4\">\r\n          <span>Tên dự án</span>\r\n          <Input\r\n            value={projectName}\r\n            onChange={(e) => setProjectName(e.target.value)}\r\n            className=\"mt-1\"\r\n            type=\"username\"\r\n            placeholder=\"Dự án A\"\r\n          />\r\n        </Label>\r\n        <Label className=\"mt-4\">\r\n          <span>Yêu cầu từ khách hàng</span>\r\n          <TextArea\r\n            className=\" mt-1\"\r\n            value={request}\r\n            onChange={(e) => setRequest(e.target.value)}\r\n            placeholder=\"Yêu cầu từ khách hàng\"\r\n            autoSize={{\r\n              minRows: 2,\r\n              maxRows: 6,\r\n            }}\r\n          />\r\n        </Label>\r\n        <Label className=\"mt-4\">\r\n          <span className=\"\">Khách hàng</span>\r\n          <Select\r\n            value={customer}\r\n            onChange={(value) => setCustomer(value)}\r\n            //   className=\"block w-full text-sm focus:outline-none dark:text-gray-300 form-input leading-5 focus:border-purple-400 dark:border-gray-600 focus:shadow-outline-purple dark:focus:border-gray-600 dark:focus:shadow-outline-gray dark:bg-gray-700 mt-1\"\r\n            className=\"w-full mt-1\"\r\n            showSearch\r\n            labelInValue\r\n            filterOption={false}\r\n            onSearch={callLog}\r\n            notFoundContent={false ? <Spin size=\"small\" /> : null}\r\n            options={options}\r\n          />\r\n        </Label>\r\n        <Label className=\"mt-4\">\r\n          <span>Thời gian làm dự kiến</span>\r\n          <RangePicker\r\n            placeholder={[\"Ngày bắt đầu\", \"Ngày kết thúc\"]}\r\n            className=\"w-full mt-1\"\r\n            // value={startDate}\r\n            onChange={(date, dateString) => {\r\n              console.log(dateString);\r\n              setStartDate(dateString[0]);\r\n              setEndDate(dateString[1]);\r\n            }}\r\n            format={dateFormat}\r\n            defaultValue={[startDate, endDate]}\r\n            minDate={dayjs()}\r\n          />\r\n        </Label>\r\n        <Label className=\"mt-4\">\r\n          <span>Giá</span>\r\n          <InputNumber\r\n            value={price}\r\n            onChange={(e) => setPrice(e)}\r\n            className=\"mt-1 w-full\"\r\n            type=\"text\"\r\n            formatter={(value) =>\r\n              `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\r\n            }\r\n            parser={(value) => value?.replace(/\\đ\\s?|(,*)/g, \"\")}\r\n            placeholder=\"Đơn giá\"\r\n          />\r\n        </Label>\r\n        {/* <Label className=\"mt-4\">\r\n          <span>Ngày kết thúc</span>\r\n          <DatePicker\r\n            className=\"w-full mt-1\"\r\n            // value={startDate}\r\n            onChange={(date, dateString) => {\r\n              setEndDate(dateString);\r\n            }}\r\n            format={dateFormat}\r\n            defaultValue={endDate}\r\n            minDate={dayjs()}\r\n          />\r\n        </Label> */}\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\nexport default ProjectList;\r\n"],"sourceRoot":""}