(this["webpackJsonpwindmill-dashboard-react"]=this["webpackJsonpwindmill-dashboard-react"]||[]).push([[3],{32:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return s}));var n=a(0),r=a.n(n);const o=Object(n.createContext)(),l=()=>Object(n.useContext)(o),s=e=>{let{children:t}=e;const[a,l]=Object(n.useState)([]),s=e=>{l(t=>t.filter(t=>t.id!==e))};return r.a.createElement(o.Provider,{value:{toasts:a,addToast:(e,t,n)=>{const r=Math.random().toString(36).substr(2,9);l([...a,{id:r,type:e,message:t,duration:n}]),setTimeout(()=>{s(r)},n)},removeToast:s}},t)}},61:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return l}));const n=e=>{e.current.className="block w-full text-sm focus:outline-none dark:text-gray-300 form-input leading-5 focus:border-purple-400 dark:border-gray-600 focus:shadow-outline-purple dark:focus:border-gray-600 dark:focus:shadow-outline-gray dark:bg-gray-700 mt-1"},r=e=>{e.current.className="block w-full text-sm focus:outline-none dark:text-gray-300 form-input leading-5 border-red-600 dark:bg-gray-700 focus:border-red-400 dark:focus:border-red-400 focus:shadow-outline-red dark:focus:shadow-outline-red mt-1"};t.a=e=>null!=e.current.value&&""!=e.current.value?(n(e),!0):(r(e),!1);const o=e=>{e.current.className="absolute inset-y-0 right-0 px-4 text-sm font-medium leading-5 text-white  transition-colors duration-150 bg-purple-600 opacity-50 border border-transparent rounded-r-md   focus:outline-none cursor-not-allowed "},l=e=>{e.current.className="absolute inset-y-0 right-0 px-4 text-sm font-medium leading-5 text-white  transition-colors duration-150 bg-purple-600 border border-transparent rounded-r-md active:bg-purple-600   hover:bg-purple-700 focus:outline-none focus:shadow-outline-purple"}},69:function(e,t,a){"use strict";a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return c})),a.d(t,"e",(function(){return i}));var n=a(47),r=a.n(n);const o="https://localhost:7242/api/",l=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const n=r.a.get("token"),l=`${o}${e}`,s={"Content-Type":"application/json",...t.headers};n&&(s.Authorization="Bearer "+n);const c={method:t.method||"POST",headers:s};t.body&&(c.body=JSON.stringify(t.body));const i=await fetch(l,c);if(["401"].includes(i.status.toString()))return console.log("Error while fetching",i),a&&a(),window.location.href="/Login",i;{const e=await i.json();return{code:i.status,data:e}}},s=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const n=`${o}${e}`,r={"Content-Type":"application/json",...t.headers},l={method:t.method||"GET",headers:r,...t};t.body&&(l.body=JSON.stringify(t.body));const s=await fetch(n,l);if(["401"].includes(s.status.toString()))return console.log("Error while fetching",s),a&&a(),s;{const e=await s.json();return{code:s.status,data:e}}},c=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const n=r.a.get("token"),l=`${o}${e}`,s={...t.headers};n&&(s.Authorization="Bearer "+n);const c={method:t.method||"POST",headers:s};t.body&&(c.body=t.body);const i=await fetch(l,c);if(["401"].includes(i.status.toString()))return console.log("Error while fetching",i),a&&a(),window.location.href="/Login",i;{const e=await i.json();return{code:i.status,data:e}}},i=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const n=r.a.get("token"),l=`${o}${e}${t?"?"+t:""}`,s={"Content-Type":"application/json"};n&&(s.Authorization="Bearer "+n);const c={method:"GET",headers:s},i=await fetch(l,c);if(["401"].includes(i.status.toString()))return console.log("Error while fetching",i),a&&a(),i;{const e=await i.json();return{code:i.status,data:e}}};t.a=l},72:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return l}));var n=a(0),r=a.n(n);const o=r.a.createContext(),l=e=>{let{children:t}=e;const[a,l]=Object(n.useState)(!1);function s(){l(!a)}function c(){l(!1)}const i=Object(n.useMemo)(()=>({isSidebarOpen:a,toggleSidebar:s,closeSidebar:c}),[a]);return r.a.createElement(o.Provider,{value:i},t)}},73:function(e,t,a){e.exports=a.p+"static/media/forgot-password-office.ac5c499b.jpeg"},74:function(e,t,a){e.exports=a.p+"static/media/forgot-password-office-dark.6db046dc.jpeg"},79:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=function(){return r.a.createElement("div",{className:"w-full h-screen p-6 text-lg font-medium text-gray-600 dark:text-gray-400 dark:bg-gray-900"},"Loading...")}},89:function(e,t,a){e.exports=a(97)},94:function(e,t,a){},95:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(22),l=a.n(o),s=(a(94),a(95),a(45)),c=a(2);var i=function(){const[e,t]=Object(n.useState)(""),a=Object(c.n)();return Object(n.useEffect)(()=>{a.pathname.slice(1)?setTimeout(()=>t(`Navigated to ${a.pathname.slice(1)} page.`),500):t("")},[a]),r.a.createElement("span",{className:"sr-only",role:"status","aria-live":"polite","aria-atomic":"true"},e)},d=a(32);var u=()=>{const{toasts:e,removeToast:t}=Object(d.b)();return r.a.createElement("div",{className:"fixed top-12 right-0 p-4"},e.map(e=>r.a.createElement("div",{className:"flex items-center w-full max-w-xs p-4 mb-4 text-gray-500 bg-white rounded-lg shadow dark:text-gray-400 dark:bg-gray-800",role:e.type,key:Math.random()},"success"==e.type&&r.a.createElement("div",{className:"inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-green-500 bg-green-100 rounded-lg dark:bg-green-800 dark:text-green-200"},r.a.createElement("svg",{className:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"})),r.a.createElement("span",{className:"sr-only"},"Check icon")),"danger"==e.type&&r.a.createElement("div",{className:"inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-red-500 bg-red-100 rounded-lg dark:bg-red-800 dark:text-red-200"},r.a.createElement("svg",{className:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 11.793a1 1 0 1 1-1.414 1.414L10 11.414l-2.293 2.293a1 1 0 0 1-1.414-1.414L8.586 10 6.293 7.707a1 1 0 0 1 1.414-1.414L10 8.586l2.293-2.293a1 1 0 0 1 1.414 1.414L11.414 10l2.293 2.293Z"})),r.a.createElement("span",{className:"sr-only"},"Error icon")),"alert"==e.type&&r.a.createElement("div",{className:"inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-orange-500 bg-orange-100 rounded-lg dark:bg-orange-700 dark:text-orange-200"},r.a.createElement("svg",{className:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM10 15a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm1-4a1 1 0 0 1-2 0V6a1 1 0 0 1 2 0v5Z"})),r.a.createElement("span",{className:"sr-only"},"Warning icon")),r.a.createElement("div",{className:"ml-3 text-sm font-normal"},e.message),r.a.createElement("button",{type:"button",className:"ml-auto -mx-1.5 -my-1.5 bg-white text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex items-center justify-center h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700","data-dismiss-target":"#toast-success","aria-label":"Close",onClick:()=>t(e.id)},r.a.createElement("span",{className:"sr-only"},"Close"),r.a.createElement("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},r.a.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"}))))))},m=a(73),g=a.n(m),h=a(74),f=a.n(h),p=a(30),b=a(69),w=a(61);var v=function(){const{addToast:e}=Object(d.b)(),t=Object(n.useRef)(),a=Object(c.p)(),o=Object(n.useRef)(),l=new URLSearchParams(window.location.search),s=l.get("email"),i=l.get("otp");return r.a.createElement("div",{className:"flex items-center min-h-screen p-6 bg-gray-50 dark:bg-gray-900"},r.a.createElement("div",{className:"flex-1 h-full max-w-4xl mx-auto overflow-hidden bg-white rounded-lg shadow-xl dark:bg-gray-800"},r.a.createElement("div",{className:"flex flex-col overflow-y-auto md:flex-row"},r.a.createElement("div",{className:"h-32 md:h-auto md:w-1/2"},r.a.createElement("img",{"aria-hidden":"true",className:"object-cover w-full h-full dark:hidden",src:g.a,alt:"Office"}),r.a.createElement("img",{"aria-hidden":"true",className:"hidden object-cover w-full h-full dark:block",src:f.a,alt:"Office"})),r.a.createElement("main",{className:"flex items-center justify-center p-6 sm:p-12 md:w-1/2"},r.a.createElement("div",{className:"w-full"},r.a.createElement("h1",{className:"mb-4 text-xl font-semibold text-gray-700 dark:text-gray-200"},"Forgot password"),r.a.createElement(p.Label,null,r.a.createElement("span",null,"Password"),r.a.createElement(p.Input,{ref:t,type:"password",className:"mt-1",placeholder:"***************"})),r.a.createElement(p.Label,{className:"mt-2"},r.a.createElement("span",null,"Confirm password"),r.a.createElement(p.Input,{ref:o,type:"password",className:"mt-1",placeholder:"***************"})),r.a.createElement("button",{className:"transition-colors duration-150 font-medium focus:outline-none   py-2 rounded-lg text-sm text-white bg-purple-600 border-0 active:bg-purple-600  hover:bg-purple-700 focus:shadow-outline-purple w-full mt-4",onClick:()=>{if(!Object(w.a)(t)||!Object(w.a)(o))return;if(o.current.value!=t.current.value)return void e("danger","Password v\xe0 Confirm password kh\xf4ng kh\u1edbp",1e4);(async()=>{const n=await Object(b.b)("Authentication/ResetPassword",{method:"POST",body:{email:s,otp:i,password:t.current.value}}),r=n.data;"200"==n.code?(e("success","Reset m\u1eadt kh\u1ea9u th\xe0nh c\xf4ng, vui l\xf2ng \u0111\u0103ng nh\u1eadp l\u1ea1i",1e4),a("/")):n.code&&e("danger",n.code+": "+r.errorCode+"-"+r.message,1e4)})()}},"Recover password"))))))};const y=Object(n.lazy)(()=>Promise.all([a.e(5),a.e(0),a.e(7)]).then(a.bind(null,397))),E=Object(n.lazy)(()=>Promise.all([a.e(0),a.e(13)]).then(a.bind(null,374))),x=Object(n.lazy)(()=>Promise.all([a.e(0),a.e(11)]).then(a.bind(null,375))),k=Object(n.lazy)(()=>a.e(12).then(a.bind(null,376))),j=Object(n.lazy)(()=>a.e(18).then(a.bind(null,377)));var N=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null,r.a.createElement(i,null),r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"/login",element:r.a.createElement(E,null)}),r.a.createElement(c.b,{path:"/create-account",element:r.a.createElement(k,null)}),r.a.createElement(c.b,{path:"/confirmEmail",element:r.a.createElement(x,null)}),r.a.createElement(c.b,{path:"/forgot-password",element:r.a.createElement(j,null)}),r.a.createElement(c.b,{path:"/ResetPassword",element:r.a.createElement(v,null)}),r.a.createElement(c.b,{path:"/app/*",element:r.a.createElement(y,null)}),r.a.createElement(c.b,{path:"/",element:r.a.createElement(c.a,{to:"/login"})}))),r.a.createElement(u,null))},O=a(72),C=a(79);const S=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function B(e,t){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const a=e.installing;null!=a&&(a.onstatechange=()=>{"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(e=>{console.error("Error during service worker registration:",e)})}var P=a(99),T=a(103);l.a.render(r.a.createElement(O.b,null,r.a.createElement(n.Suspense,{fallback:r.a.createElement(C.a,null)},r.a.createElement(P.a,{theme:{algorithm:T.a.darkAlgorithm,components:{Select:{selectorBg:"#24262d"},Input:{colorBgContainer:"#24262d"},InputNumber:{colorBgContainer:"#24262d"},DatePicker:{colorBgContainer:"#24262d"},Modal:{contentBg:"#1a1c23",headerBg:"#1a1c23"},Card:{colorBgContainer:"#1a1c23"},Table:{colorBgContainer:"#1a1c23"},Button:{colorPrimary:"#7e3af2"}}}},r.a.createElement(p.Windmill,{dark:!0,usePreferences:!0},r.a.createElement(d.a,null,r.a.createElement(N,null)))))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const t="/service-worker.js";S?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then(a=>{const n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):B(e,t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):B(t,e)})}}()}},[[89,4,6]]]);
//# sourceMappingURL=main.1b06d728.chunk.js.map