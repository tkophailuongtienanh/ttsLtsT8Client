(this["webpackJsonpwindmill-dashboard-react"]=this["webpackJsonpwindmill-dashboard-react"]||[]).push([[21],{382:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),c=t(124),s=t(392),r=t(360),o=t(390),m=t(358),d=t(393),i=t(69),u=t(32),h=t(113),g=t(30);a.default=()=>{const{addToast:e}=Object(u.b)(),[a,t]=Object(l.useState)(""),[p,b]=Object(l.useState)(""),[N,y]=Object(l.useState)(""),[f,E]=Object(l.useState)(""),[v,C]=Object(l.useState)([]),[j,k]=Object(l.useState)(1),[O,S]=Object(l.useState)(0),[w,x]=Object(l.useState)(!1),[D,A]=Object(l.useState)(""),[I,T]=Object(l.useState)(""),P=[{title:"ID",dataIndex:"id",key:"id"},{title:"H\u1ecd v\xe0 t\xean",dataIndex:"fullName",key:"fullName"},{title:"Phone",dataIndex:"phoneNumber",key:"phoneNumber"},{title:"\u0110\u1ecba ch\u1ec9",dataIndex:"address",key:"address"},{title:"",key:"action",render:(e,a)=>n.a.createElement("div",{className:"flex justify-end"},n.a.createElement(c.a,{onClick:()=>H(a.id,a.fullName,a.phoneNumber,a.address),type:"primary",shape:"circle"},n.a.createElement("i",{className:"fa-solid fa-pen-to-square"})))}],z=async function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f;try{const n=await Object(i.e)("Customer/GetAll?search="+l+"&pageIndex="+a+"&pageSize="+t),c=n.data;if(console.log(c),"200"==n.code){const e=c.list.map(e=>({...e,key:e.id}));S(c.total),C(e)}else n.code&&e("danger",n.code+": "+c.errorCode+"-"+c.message,1e4)}catch(n){}};Object(l.useEffect)(()=>{z()},[]);const L=async()=>{try{const t=await Object(i.a)("Customer/AddCustomer",{body:{fullName:a,PhoneNumber:p,Address:N}}),l=t.data;"200"==t.code?(z(),e("success","Th\xeam th\xe0nh c\xf4ng",5e3),x(!1)):t.code&&e("danger",t.code+": "+l.errorCode+"-"+l.message,1e4)}catch(t){console.log(t)}},U=async()=>{const t=await Object(i.a)("Customer/UpdateCustomer",{body:{Id:I,fullName:a,PhoneNumber:p,Address:N}}),l=t.data;"200"==t.code?(z(),e("success","C\u1eadp nh\u1eadt th\xe0nh c\xf4ng",5e3),x(!1)):t.code&&e("danger",t.code+": "+l.errorCode+"-"+l.message,1e4)},H=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";A("UPD"),T(e),t(a),y(n),b(l),x(!0)};return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:" flex justify-between"},n.a.createElement(h.a,null,"Danh s\xe1ch kh\xe1ch h\xe0ng"),n.a.createElement("button",{onClick:()=>{A("ADD"),t(""),y(""),b(""),x(!0)},className:"bg-purple-700 h-12 self-center rounded-lg px-4 text-white"},n.a.createElement("i",{className:"fa-solid fa-plus mr-2"}),"Th\xeam m\u1edbi")),n.a.createElement(s.a,{className:"shadow-md border-0"},n.a.createElement(r.a,{className:"mb-3 p-2 w-1/2 mr-3",type:"text",placeholder:"T\xean kh\xe1ch h\xe0ng",onChange:e=>E(e.target.value),value:f}),n.a.createElement(c.a,{onClick:()=>{k(1),z(j-1,25,f)},type:"primary",size:"large",className:"h-full"},n.a.createElement("i",{className:"fa-solid fa-magnifying-glass"})," T\xecm ki\u1ebfm"),n.a.createElement(o.a,{columns:P,dataSource:v,pagination:!1}),n.a.createElement(m.a,{className:"mt-2",align:"end",current:j,onChange:(e,a)=>{k(e),z(e-1,a)},total:O,pageSize:25})),n.a.createElement(d.a,{title:"Basic Modal",open:w,onOk:async()=>{"ADD"===D?await L():"UPD"===D&&await U()},onCancel:()=>{x(!1)}},n.a.createElement(g.Label,null,n.a.createElement("span",null,"T\xean kh\xe1ch h\xe0ng"),n.a.createElement(r.a,{value:a,onChange:e=>t(e.target.value),className:"mt-1",type:"username",placeholder:"Nguy\u1ec5n V\u0103n A"})),n.a.createElement(g.Label,{className:"mt-4"},n.a.createElement("span",null,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),n.a.createElement(r.a,{value:p,onChange:e=>b(e.target.value),className:"mt-1",type:"email",placeholder:"0987653321"})),n.a.createElement(g.Label,{className:"mt-4"},n.a.createElement("span",null,"\u0110\u1ecba ch\u1ec9"),n.a.createElement(r.a,{value:N,onChange:e=>y(e.target.value),className:"mt-1",type:"email",placeholder:"H\xe0 N\u1ed9i"}))))}}}]);
//# sourceMappingURL=21.4f149e92.chunk.js.map