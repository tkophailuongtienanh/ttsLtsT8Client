(this["webpackJsonpwindmill-dashboard-react"]=this["webpackJsonpwindmill-dashboard-react"]||[]).push([[23],{381:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),s=t(362),i=t(361),o=t(392),r=t(360),d=t(124),c=t(390),m=t(358),u=t(69),p=t(32);const g=[{value:1,code:"Leader",label:"Leader"},{value:2,code:"Designer",label:"Designer"},{value:3,code:"Deliver",label:"Deliver"},{value:4,code:"Manager",label:"Manager"},{value:5,code:"Employee",label:"Employee"},{value:6,code:"Admin",label:"Admin"}];a.default=()=>{const e=Object(p.b)(),[a,t]=Object(l.useState)(""),[b,h]=Object(l.useState)([]),[y,v]=Object(l.useState)(1),[f,E]=Object(l.useState)(0),k=[{title:"ID",dataIndex:"id",key:"id"},{title:"H\u1ecd v\xe0 t\xean",dataIndex:"fullName",key:"fullName"},{title:"Email",dataIndex:"email",key:"email"},{title:"Phone",dataIndex:"phoneNumber",key:"phoneNumber"},{title:"Quy\u1ec1n h\u1ea1n",key:"action",render:(e,a)=>n.a.createElement(s.a,{size:"middle"},n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{mode:"multiple",maxTagCount:"responsive",value:a.permissionCodes,onChange:e=>w(a.id,e),className:"w-60 mt-1 ",style:{minWidth:"280px"},filterOption:!1,showSearch:!0,options:g})))}],w=async(a,t)=>{try{const l=await Object(u.a)("Users/UpdateUserPermission",{body:{UserId:a,Permission:t}}),n=l.data;if("200"==l.code){const e=b.map(e=>e.id==a?{...e,permissionCodes:t}:e);h(e)}else l.code&&e("danger",l.code+": "+n.errorCode+"-"+n.message,1e4)}catch(l){console.log(l)}},C=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y-1,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;try{const a=await Object(u.e)("Users/GetAll?search="+n+"&pageIndex="+t+"&pageSize="+l),s=a.data;if("200"==a.code){const e=s.list.map(e=>({...e,key:e.id,permissionCodes:e.permissions.map(e=>e.roleId)}));E(s.total),h(e)}else a.code&&e("danger",a.code+": "+s.errorCode+"-"+s.message,1e4)}catch(s){}};return Object(l.useEffect)(()=>{C()},[]),n.a.createElement(n.a.Fragment,null,n.a.createElement(o.a,{className:"mt-5 shadow-md border-0"},n.a.createElement(r.a,{className:"mb-3 p-2 w-1/2 mr-3",type:"text",placeholder:"T\xean, email ng\u01b0\u1eddi d\xf9ng",onChange:e=>t(e.target.value),value:a}),n.a.createElement(d.a,{onClick:()=>{v(1),C(y-1,25,a)},type:"primary",size:"large",className:"h-full"},n.a.createElement("i",{className:"fa-solid fa-magnifying-glass"})," T\xecm ki\u1ebfm"),n.a.createElement(c.a,{columns:k,dataSource:b,pagination:!1}),n.a.createElement(m.a,{className:"mt-2",align:"end",current:y,onChange:(e,a)=>{v(e),C(e-1,a)},total:f,pageSize:25})),";")}}}]);
//# sourceMappingURL=23.f337593f.chunk.js.map